[{"C:\\Users\\offic\\Coding\\SafeRoute\\src\\index.js":"1","C:\\Users\\offic\\Coding\\SafeRoute\\src\\reportWebVitals.js":"2","C:\\Users\\offic\\Coding\\SafeRoute\\src\\App.js":"3","C:\\Users\\offic\\Coding\\SafeRoute\\src\\components\\Navbar\\index.js":"4","C:\\Users\\offic\\Coding\\SafeRoute\\src\\components\\SearchField\\Search.js":"5"},{"size":500,"mtime":1610321566639,"results":"6","hashOfConfig":"7"},{"size":362,"mtime":1610321566639,"results":"8","hashOfConfig":"7"},{"size":993,"mtime":1610321566630,"results":"9","hashOfConfig":"7"},{"size":10146,"mtime":1610321566630,"results":"10","hashOfConfig":"7"},{"size":3952,"mtime":1610391234971,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"1co5747",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23"},"C:\\Users\\offic\\Coding\\SafeRoute\\src\\index.js",[],["24","25"],"C:\\Users\\offic\\Coding\\SafeRoute\\src\\reportWebVitals.js",[],"C:\\Users\\offic\\Coding\\SafeRoute\\src\\App.js",[],"C:\\Users\\offic\\Coding\\SafeRoute\\src\\components\\Navbar\\index.js",[],"C:\\Users\\offic\\Coding\\SafeRoute\\src\\components\\SearchField\\Search.js",["26","27"],"import React from 'react';\nimport '../SearchField/Search.css';\nimport axios from 'axios';\nimport APIJSONDATA from '../../API_DATA.json';\n\nclass Search extends React.Component {\n\n    constructor( props ) {\n        super( props);\n\n        this.state = {\n            query: '',\n            results: {},\n            loading: false,\n            message: ''\n        }\n        //variable to start cancel token\n        this.cancel = '';\n        APIJSONDATA.forEach(data => {\n            console.log(\"name: \", data.name);\n            console.log(\"city: \", data.city);\n        })\n    }\n    \n    //fetching query results from refuge restroom api  NEED TO CAL FETCH FUNCTION\n    fetchSearchResults = ( updatedPageNo = '', query ) => {\n        console.log(\"fetchSearchResults\")\n     const pageNumber = updatedPageNo ? `page=1${updatedPageNo}` : '';\n        APIJSONDATA.forEach(data => {\n            console.log(\"name: \", data.name);\n            console.log(\"city: \", data.city);\n        })\n       const searchURL = `https://www.refugerestrooms.org/api/v1/restrooms/search?page=1&per_page=10&offset=0&query=United%20States\n       ` ; \n\n       // if statement for cancel token \n        if( this.cancel ) {\n            this.cancel.cancel();\n        }\n        // creates new stoke\n        this.cancel = axios.CancelToken.source();\n\n        axios.get( searchURL, {\n            cancelToken: this.cancel.token\n        } )\n\n        .then( res => {\n            const resultNotFoundMsg = ! res.data.length\n                                    ? 'There are no more search results. Try a new search'\n                                        : '';\n                                        this.setState( {\n                                            results: res.data,\n                                            message: resultNotFoundMsg,\n                                            loading: false\n                                        })\n\n\n\n\n            //Displaying API data\n            // console.warn( res );\n        } )\n        .catch( error => {\n            if (axios.isCancel(error) || error ) {\n                this.setState({\n                    loading: false,\n                    message: 'Failed to fetch data. Check network'\n                })\n            }\n        })\n    };\n//Method to handle user input\nhandleOnInputChange = ( event ) => {\n    //stores query/user input\n    const query = event.target.value;\n    this.setState( { query: query, loading: true, message: '' }, () => {\n        this.fetchSearchResults( 1, query );\n    } );\n};\n\n\n\n// Method to display search results\n// Pulls results out of state\n\n\n   renderSearchResults = () => {\n    \nconst { results } = this.state;\n\nif ( Object.keys( results ).length && results.length ) {\n return (\n <div className=\"results-container\">\n     { results.map( result => {\n         return (\n             <a key={ result.id } href={ result.name } className=\"result-item\">\n                <h6 className=\"image-name\">{ result.city }</h6>\n                <div className=\"image-wrapper\">\n                    <img className=\"image\" src={ result.name } alt={`${result.name}`}/>\n                </div>\n             </a>\n         )\n     })}\n </div>\n )\n    }\n   };\n \n\n\n\n render () {\n     const { query } = this.state;\n     console.warn( this.state );\n     return (\n         <div className=\"container\">\n  {/* Heading*/}\n  <h2 className=\"heading\"></h2>\n   {/* Search Input*/}\n   <label className=\"search-label\" htmlFor=\"search-input\">\n   <input\n                    type=\"text\"\n                    name=\"query\"\n                    value={query}\n                    id=\"search-input\"\n                    placeholder=\"Search...\"\n                // Calling function for what user types\n                    onChange={this.handleOnInputChange}\n                    />\n<i className=\"fas fa-search search-icon\" id=\"searchicon\"></i>\n   </label>\n\n\n{ this.renderSearchResults() } \n         </div>\n         )\n     }\n}\n    export default Search",{"ruleId":"28","replacedBy":"29"},{"ruleId":"30","replacedBy":"31"},{"ruleId":"32","severity":1,"message":"33","line":28,"column":12,"nodeType":"34","messageId":"35","endLine":28,"endColumn":22},{"ruleId":"36","severity":1,"message":"37","line":118,"column":3,"nodeType":"38","endLine":118,"endColumn":27},"no-native-reassign",["39"],"no-negated-in-lhs",["40"],"no-unused-vars","'pageNumber' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/heading-has-content","Headings must have content and the content must be accessible by a screen reader.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]